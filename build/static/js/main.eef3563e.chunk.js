(this.webpackJsonpblogs=this.webpackJsonpblogs||[]).push([[0],{105:function(t,e,a){},120:function(t,e,a){},148:function(t,e,a){},149:function(t,e,a){},168:function(t,e,a){},173:function(t,e,a){},241:function(t,e,a){},242:function(t,e,a){},249:function(t,e,a){"use strict";a.r(e),a.d(e,"history",(function(){return Ot}));var n=a(2),s=a(0),r=a(16),o=a.n(r),i=(a(148),a(12)),c=a(35),l=a(36),u=a(62),d=a(38),p=a(37),j=(a(149),a(150),a(23)),h=a(22),b=(a(151),a(47)),g=a(46),O=a.n(g),m=(a(168),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).logindetail=function(t){n.setState(Object(b.a)({},t.target.name,t.target.value)),console.log(n.state)},n.handlelogin=function(t){t.preventDefault(),O.a.get("https://5fb6896e36e2fa00166a5837.mockapi.io/api/data/users").then((function(t){n.setState({details:t.data})})).catch((function(t){return console.log(t)}));for(var e=0,a=0;a<n.state.details.length;a++){if(e++,n.state.details[a].name==n.state.name&&n.state.details[a].password==n.state.password){localStorage.setItem("token","xndwejdvejevfwjdvdvwdjwvd"),console.log("Log in Token",localStorage.getItem("token")),n.state.loggedIn=!0;break}e==n.state.details.length&&alert("User Account is not Authorized, Check UserId/Password")}},n.state={name:"",password:"",loggedIn:!1,details:[]},n}return Object(l.a)(a,[{key:"render",value:function(){return this.state.loggedIn?Object(n.jsx)(h.a,{to:"/blogs"}):Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("h2",{align:"center",children:"Login"}),Object(n.jsxs)("form",{onSubmit:this.handlelogin,className:"form",children:[Object(n.jsx)("input",{type:"text",name:"name",placeholder:"Enter your usename",onChange:this.logindetail}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:this.logindetail}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"LogIn",className:"button"}),Object(n.jsx)("button",{className:"button",children:Object(n.jsx)(j.b,{to:"/register",children:"SignUp"})})]})]})}}]),a}(s.Component)),f=(a(173),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handleall=function(t){n.setState(Object(b.a)({},t.target.name,t.target.value))},n.handlesubmit=function(t){t.preventDefault();var e={name:n.state.name,email:n.state.email,password:n.state.password};console.log(e),O.a.post("https://5fb6896e36e2fa00166a5837.mockapi.io/api/data/users",e).then((function(t){console.log(t.data)})).catch((function(t){return console.log(t)})),alert("Resigtration Successful")},n.state={name:"",email:"",password:""},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("h2",{align:"center",children:"Register"}),Object(n.jsxs)("form",{onSubmit:this.handlesubmit,className:"formm",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleall}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleall}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleall}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"Submit"}),Object(n.jsx)(j.b,{to:"./login",children:"Back to login page"}),Object(n.jsx)("div",{className:"login"})]})]})}}]),a}(s.Component)),x=(a(105),a(254)),v=a(255),y=a(73),k=a.n(y),N=function(t){var e=t.post,a=t.onDelete,s=t.onEdit;return console.log(e.title),Object(n.jsxs)("div",{className:"imageCard",children:[Object(n.jsx)(k.a,{style:{fontSize:"150px"},title:e.title}),Object(n.jsx)("hr",{}),Object(n.jsx)(x.a,{align:"center",alt:"Blog Image",src:e.image}),Object(n.jsxs)("p",{children:["Content: ",e.content]}),Object(n.jsxs)("h5",{children:["Email: ",e.email]}),Object(n.jsxs)("h5",{children:["Age Group: ",e.agegroup]}),Object(n.jsxs)("a",{href:e.link,style:{align:"center",color:"#FF00FF"},children:["Reference:",e.link," "]}),Object(n.jsxs)("h5",{children:["Category: ",e.categories]}),Object(n.jsx)(v.a,{type:"primary",onClick:function(){return s(e)},children:"Edit"}),Object(n.jsx)(v.a,{type:"primary",onClick:function(){return a(e.id)},children:"Delete"})]})},C=a(48),D=a(91),S=a.n(D),E=a(134),w="ADD_POST",I="ADD_POST_ERROR",L="DELETE_POST",R="DELETE_POST_ERROR",A="EDIT_POST",T="EDIT_POST_ERROR",_="FETCH_POSTS",P="FETCH_POSTS_ERROR",F="FETCH_POSTS_LOADING",V="https://5fb6896e36e2fa00166a5837.mockapi.io/api/data/blogdata",B=function(t){if(t.id){var e={ID:t.id,title:t.title,content:t.content,agegroup:t.agegroup,image:t.image,link:t.link,categories:t.categories};return function(t){z(t,e)}}var a={title:t.title,content:t.content,agegroup:t.agegroup},n=!0;return function(t){return n&&t(H(n)),O.a.post(V,a).then((function(e){var a=e.data;return O.a.get("".concat(V,"/").concat(a)).then((function(e){t(H(n=!1)),t(U(e.data)),Ot.push("/")})).catch((function(e){t(H(n=!1)),t(G(e))}))})).catch((function(e){t(G(e))}))}},U=function(t){return{type:w,payload:{id:t.ID,title:t.title,agegroup:t.agegroup,content:t.content}}},G=function(t){var e={message:t.response.data.message,status:t.response.status};return{type:I,payload:e}},H=function(t){return{type:"ADD_POST_LOADING",payload:t}},z=function(t,e){var a=e.ID;return console.log(e),O.a.put("".concat(V,"/").concat(a),e).then((function(e){return console.log(e.data),O.a.get("".concat(V,"/").concat(a)).then((function(e){var a;t((a=e.data,{type:A,payload:{id:a.ID,title:a.title,agegroup:a.agegroup,content:a.content}})),Ot.push("/")})).catch((function(e){t(function(t){var e={message:t.response.data.message?t.response.data.message:t.response.data,status:t.response.status};return{type:T,payload:e}}(e))}))})).catch((function(t){}))},W=function(t){return{type:L,payload:{id:t}}},J=function(t){var e={message:t.response.data.message,status:t.response.status};return{type:R,payload:e}},M=function(t){var e={message:t.response.data,status:t.response.status};return{type:P,payload:e}},$=function(t){return{type:F,payload:t}},q=(a(120),!0),K=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;Object(c.a)(this,a),(n=e.call(this,t)).handleEdit=n.handleEdit.bind(Object(u.a)(n));var s=localStorage.getItem("token");return console.log(s),null===s&&(q=!1),n}return Object(l.a)(a,[{key:"handleEdit",value:function(t){this.props.onEdit(t)}},{key:"render",value:function(){var t=this;return this.props.isLoading?Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Data is loading..."})}):this.props.errors?Object(n.jsx)("div",{className:"alert alert-danger",children:this.props.errors}):q?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"btn-container clearfix",children:[Object(n.jsx)(j.b,{to:"/create",className:"btn btn-create btn-primary",children:"Add New"}),Object(n.jsx)(j.b,{to:"/",className:"btn btn-create btn-primary",onClick:function(){return localStorage.removeItem("token")},children:"Logout"})]}),this.props.posts.map((function(e){return Object(n.jsx)(N,{post:e,onEdit:t.handleEdit,onDelete:t.props.onDelete},e.id)}))]}):(alert("Unauthorised Access, Please Login and retry"),Object(n.jsx)(h.a,{to:"/login"}))}}]),a}(s.Component),Q=Object(C.b)((function(t){var e="";if(t.postsData.errors)switch(t.postsData.errors.status){case 404:e+="404 Not found.";break;case 500:e+="500 Server Error.";break;default:e+="Error"}return{errors:e||null,posts:t.postsData.posts,isLoading:t.postsData.isLoading}}),(function(t){return{onDelete:function(e){t(function(t){return function(e){return O.a.delete("".concat(V,"/").concat(t)).then((function(){e(W(t))})).catch((function(t){e(J(t))}))}}(e))}}}))(K),X=function(t){var e=t.post;return console.log(e.title),Object(n.jsxs)("div",{className:"imageCard",children:[Object(n.jsx)(k.a,{style:{fontSize:"150px"},title:e.title}),Object(n.jsx)("hr",{}),Object(n.jsx)(x.a,{align:"justify",alt:"Blog Image",src:e.image}),Object(n.jsxs)("p",{children:["Content: ",e.content]}),Object(n.jsxs)("h5",{children:["Email: ",e.email]}),Object(n.jsxs)("h5",{children:["Age Group: ",e.agegroup]}),Object(n.jsx)("a",{href:e.link,style:{align:"justify",color:"#FF002F"},children:" Reference "}),Object(n.jsxs)("h5",{children:["Category: ",e.categories]})]})},Y=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){return Object(c.a)(this,a),e.call(this,t)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isLoading?Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Data is loading..."})}):this.props.errors?Object(n.jsx)("div",{className:"alert alert-danger",children:this.props.errors}):Object(n.jsx)("div",{children:this.props.posts.map((function(t){return Object(n.jsx)(X,{post:t},t.id)}))})}}]),a}(s.Component),Z=Object(C.b)((function(t){var e="";if(t.postsData.errors)switch(t.postsData.errors.status){case 404:e+="404 Not found.";break;case 500:e+="500 Server Error.";break;default:e+="Error"}return{errors:e||null,posts:t.postsData.posts,isLoading:t.postsData.isLoading}}))(Y),tt=(a(241),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={id:0,title:"",content:"",categories:"",link:"",image:"",agegroup:"",errors:null},n}return Object(l.a)(a,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.onAdd(this.state),this.handleReset(t)}},{key:"handleValueChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"handleReset",value:function(t){t.preventDefault(),this.setState({id:0,title:"",content:"",categories:"",link:"",image:"",agegroup:"",errors:null})}},{key:"componentWillMount",value:function(){if(this.props.location&&this.props.location.state&&this.props.location.state.post){var t=this.props.location.state.post;this.setState({id:t.id,title:t.title,content:t.content,agegroup:t.agegroup,image:t.image,link:t.link,categories:t.categories,errors:null})}}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"btn-container clearfix",children:Object(n.jsx)(j.b,{to:"/blogs",className:"btn btn-home btn-primary",children:"Back"})}),this.props.errors&&this.props.errors.message?Object(n.jsx)("div",{className:"alert alert-danger",children:this.props.errors.message}):"",Object(n.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter Title",defaultValue:this.props.post.title,value:this.state.title,onChange:this.handleValueChange.bind(this)})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",name:"content",className:"form-control",defaultValue:this.props.post.content,placeholder:"Enter Content",value:this.state.content,onChange:this.handleValueChange.bind(this)})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"number",name:"agegroup",className:"form-control",defaultValue:this.props.post.agegroup,placeholder:"Enter Age Group",value:this.state.agegroup,onChange:this.handleValueChange.bind(this)})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("button",{type:"submit",className:"btn btn-success",children:this.state.id?"Update":"Add"}),Object(n.jsx)("button",{type:"button",className:"btn btn-default",onClick:this.handleReset.bind(this),children:"Clear"})]})]})]})}}]),a}(s.Component)),et=Object(C.b)((function(t){return{errors:t.postsData.errors,posts:t.postsData.posts,isLoading:t.postsData.isLoading}}),(function(t){return{onAdd:function(e){t(B(e))}}}))(tt),at=(a(242),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={id:t.post.id,title:t.post.title,content:t.post.content,categories:t.post.categories,link:t.post.link,image:t.post.image,agegroup:t.post.agegroup,errors:null},n}return Object(l.a)(a,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.onAdd(this.state),this.handleReset(t)}},{key:"handleValueChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"handleReset",value:function(t){t.preventDefault(),this.setState({id:this.state.id,title:"",content:"",categories:this.state.categories,link:this.state.link,image:this.state.image,agegroup:"",errors:null})}},{key:"componentWillMount",value:function(){if(this.props.location&&this.props.location.state&&this.props.location.state.post){var t=this.props.location.state.post;this.setState({id:t.id,title:t.title,content:t.content,agegroup:t.agegroup,image:t.image,link:t.link,categories:t.categories,errors:null})}}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{to:"/blogs",children:"Back"})}),this.props.errors&&this.props.errors.message?Object(n.jsx)("div",{className:"alert alert-danger",children:this.props.errors.message}):"",Object(n.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",name:"title",className:"form-control",placeholder:this.state.title,value:this.state.title,onChange:this.handleValueChange.bind(this)})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",name:"content",className:"form-control",placeholder:this.state.content,value:this.state.content,onChange:this.handleValueChange.bind(this)})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"number",name:"agegroup",className:"form-control",placeholder:this.state.agegroup,value:this.state.agegroup,onChange:this.handleValueChange.bind(this)})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("button",{type:"submit",className:"btn btn-success",children:this.state.id?"Update":"Add"}),Object(n.jsx)("button",{type:"button",className:"btn btn-default",onClick:this.handleReset.bind(this),children:"Clear"})]})]})]})}}]),a}(s.Component)),nt=Object(C.b)((function(t){return{errors:t.postsData.errors,posts:t.postsData.posts,isLoading:t.postsData.isLoading}}),(function(t){return{onAdd:function(e){t(B(e))}}}))(at),st=a(253),rt=a(256),ot=st.a.Content,it=st.a.Header,ct=st.a.Footer,lt=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handleClick=function(t){console.log("click ",t),n.setState({current:t.key})},n.state={post:null},n.onEdit=n.onEdit.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"onEdit",value:function(t){this.setState({post:t}),Ot.push({pathname:"/edit/".concat(t.id),state:{post:t}})}},{key:"render",value:function(){var t=this;return Object(n.jsx)(j.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(st.a,{className:"layout",children:[Object(n.jsx)(it,{style:{textAlign:"center"},children:Object(n.jsxs)(rt.a,{theme:"dark",mode:"horizontal",children:[Object(n.jsx)(rt.a.Item,{children:Object(n.jsx)(j.b,{to:"/",children:"Blogs Home"})},"1"),Object(n.jsx)(rt.a.Item,{children:localStorage.getItem("token")?Object(n.jsx)(j.b,{to:"/blogs",children:"Update Blogs"}):Object(n.jsx)(j.b,{to:"/login",children:"Login/Sign Up"})},"3")]})}),Object(n.jsx)(h.d,{children:Object(n.jsx)(ot,{style:{padding:"0 20px"},children:Object(n.jsxs)("div",{className:"site-layout-content",children:[Object(n.jsx)(h.b,{path:"/",exact:!0,render:function(t){return Object(n.jsx)(Z,Object(i.a)({},t))}}),Object(n.jsx)(h.b,{path:"/blogs",exact:!0,render:function(e){return Object(n.jsx)(Q,Object(i.a)(Object(i.a)({isLogged:e.loggedIn},e),{},{onEdit:t.onEdit}))}}),Object(n.jsx)(h.b,{path:"/create/",render:function(e){return Object(n.jsx)(et,Object(i.a)(Object(i.a)({},e),{},{post:t.state.post}))}}),Object(n.jsx)(h.b,{path:"/edit/:id",render:function(e){return Object(n.jsx)(nt,Object(i.a)(Object(i.a)({},e),{},{post:t.state.post}))}}),Object(n.jsx)(h.b,{path:"/login",render:function(e){return Object(n.jsx)(m,Object(i.a)(Object(i.a)({},e),{},{post:t.state.post}))}}),Object(n.jsx)(h.b,{path:"/register",render:function(e){return Object(n.jsx)(f,Object(i.a)(Object(i.a)({},e),{},{post:t.state.post}))}})]})})}),Object(n.jsx)(ct,{style:{textAlign:"center"},children:"Blog \xa92020 by Priya Dharshini"})]})})})}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=a(56),dt=a(138),pt=a(94),jt={posts:[],errors:null,isLoading:!0},ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(i.a)(Object(i.a)({},t),{},{errors:null,posts:[].concat(Object(pt.a)(t.posts),[e.payload])});case I:return Object(i.a)(Object(i.a)({},t),{},{errors:e.payload});case A:var a=t.posts.filter((function(t){return t.id!=e.payload.id}));return Object(i.a)(Object(i.a)({},t),{},{errors:null,posts:[].concat(Object(pt.a)(a),[e.payload])});case T:return Object(i.a)(Object(i.a)({},t),{},{errors:e.payload});case L:var n=t.posts.filter((function(t){return t.id!=e.payload.id}));return Object(i.a)(Object(i.a)({},t),{},{posts:n});case R:return Object(i.a)(Object(i.a)({},t),{},{errors:e.payload});case _:return Object(i.a)(Object(i.a)({},t),{},{posts:e.payload});case P:return Object(i.a)(Object(i.a)({},t),{},{errors:e.payload});case F:return Object(i.a)(Object(i.a)({},t),{},{isLoading:e.payload});default:return t}},bt=Object(ut.c)({postsData:ht}),gt=a(139),Ot=Object(gt.a)({forceRefresh:!0}),mt=Object(ut.d)(bt,Object(ut.a)(dt.a));mt.dispatch(function(){var t=!0;return function(){var e=Object(E.a)(S.a.mark((function e(a){var n,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&a($(t)),e.prev=1,e.next=4,O.a.get("".concat(V));case 4:n=e.sent,a($(t=!1)),s=n.data,a({type:_,payload:s}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),a($(t=!1)),a(M(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}()),o.a.render(Object(n.jsx)(C.a,{store:mt,children:Object(n.jsx)(lt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[249,1,2]]]);
//# sourceMappingURL=main.eef3563e.chunk.js.map